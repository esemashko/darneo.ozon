# üöÄ Darneo.Ozon

**üõí OZON –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: —Ç–æ–≤–∞—Ä—ã, —Ü–µ–Ω—ã, –æ—Å—Ç–∞—Ç–∫–∏**  
–ú–æ–¥—É–ª—å –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤ –Ω–∞ 1C-–ë–∏—Ç—Ä–∏–∫—Å.

## üìÑ –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ–¥—É–ª—å Darneo.Ozon –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤ –Ω–∞ –ë–∏—Ç—Ä–∏–∫—Å —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–º OZON. –†–µ—à–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ª–∏—á–Ω—ã–º–∏ –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏ –Ω–∞ OZON, –∞ —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—ã–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ª—é–±—ã—Ö –∏–Ω—Ñ–æ–±–ª–æ–∫–æ–≤ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞, –≤–∫–ª—é—á–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

## ‚öôÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üì¶ –í—ã–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏ —Ä—É—á–Ω–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –≤–∞—à–µ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –Ω–∞ OZON.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤.

### üí∞ –í—ã–≥—Ä—É–∑–∫–∞ —Ü–µ–Ω
- –í—ã–≥—Ä—É–∑–∫–∞ —Ü–µ–Ω —Å —É—á–µ—Ç–æ–º —Å–∫–∏–¥–æ–∫.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–ª–∏ —Ä—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ü–µ–Ω.

### üè∑Ô∏è –í—ã–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤
- –í—ã–±–æ—Ä —Å–∫–ª–∞–¥–∞ –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—á–Ω–æ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–≥—Ä—É–∑–∫–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤.

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª—è

1. –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–æ–¥—É–ª—å –≤ –ø–∞–ø–∫—É `/bitrix/modules/`.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∞—Å—Ç–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—É–±–ª–∏—á–Ω–æ–π —á–∞—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–∞–π—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/ozon/`).
3. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ —É–∫–∞–∂–∏—Ç–µ –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö `/ozon/settings/key/` (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–ª—é—á—É –Ω–∞—Å—Ç—Ä–æ–π–∫—É "–ë–∞–∑–æ–≤—ã–π").
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö —Å–∫–ª–∞–¥–æ–≤ –≤ —Ä–∞–∑–¥–µ–ª–µ `/ozon/settings/stock/`.
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—ã–≥—Ä—É–∑–∫—É —Ç–æ–≤–∞—Ä–æ–≤: `/ozon/export/product/`.
6. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—ã–≥—Ä—É–∑–∫—É —Ü–µ–Ω: `/ozon/export/price/`.
7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—ã–≥—Ä—É–∑–∫—É –æ—Å—Ç–∞—Ç–∫–æ–≤: `/ozon/export/stock/`.
8. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω–∞ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: `/ozon/settings/cron/`.

## üë®‚Äçüíª –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ OZON —Å –ø–æ–º–æ—â—å—é —Å–æ–±—ã—Ç–∏–π. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤ —Ñ–∞–π–ª–µ `/local/php_interface/init.php`:

```php
AddEventHandler('darneo.ozon', 'onExportProduct', ['MyClass', 'onExportProduct']);
AddEventHandler('darneo.ozon', 'onExportPrice', ['MyClass', 'onExportPrice']);
AddEventHandler('darneo.ozon', 'onExportStock', ['MyClass', 'onExportStock']);

class MyClass
{
    // —ç–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–∞ –Ω–∞ OZON
    public static function onExportProduct(int $elementId, array $dataItem): array
    {
        // your code
        return $dataItem;
    }

    // —ç–∫—Å–ø–æ—Ä—Ç —Ü–µ–Ω—ã –Ω–∞ OZON
    public static function onExportPrice(int $elementId, array $dataItem): array
    {
        // your code
        return $dataItem;
    }

    // —ç–∫—Å–ø–æ—Ä—Ç –æ—Å—Ç–∞—Ç–∫–∞ –Ω–∞ OZON
    public static function onExportStock(int $elementId, array $dataItem): array
    {
        // your code
        return $dataItem;
    }
}
```

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 8.1

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É—Å–ª–æ–≤–∏—è—Ö [MIT License](LICENSE).

## üìß –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π [Issue](../../issues) –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –ú—ã —Ü–µ–Ω–∏–º –≤–∞—à—É –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –∏ –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –æ—Ç–≤–µ—Ç–∏—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ.
